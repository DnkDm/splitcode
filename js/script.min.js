const pageLoadAnimation=()=>{document.body.classList.add("loaded")};window.addEventListener("load",pageLoadAnimation),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href");if("#"===n)return;const o=document.querySelector(n);o&&(t.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}))})})});const enhancedImageLoading=()=>{document.querySelectorAll(".case-images img, .work-pair img").forEach(e=>{e.complete?e.classList.add("loaded"):e.addEventListener("load",()=>{e.classList.add("loaded")})})};document.addEventListener("DOMContentLoaded",enhancedImageLoading);const animateCaseImages=()=>{const e=document.querySelectorAll(".case"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){e.target.querySelectorAll(".case-images img").forEach((e,t)=>{setTimeout(()=>{e.classList.add("loaded")},100*t)}),t.unobserve(e.target)}})},{threshold:.2});e.forEach(e=>t.observe(e))};document.addEventListener("DOMContentLoaded",animateCaseImages);const optimizedAnimations=()=>{const e=document.querySelectorAll(".case, .stage-card, .work-pair"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"50px"});e.forEach(e=>t.observe(e))};document.addEventListener("DOMContentLoaded",optimizedAnimations);const addMagneticEffect=()=>{document.querySelectorAll(".tag, .stage-card, .telegram-link").forEach(e=>{let t=null;e.addEventListener("mousemove",n=>{t||(t=requestAnimationFrame(()=>{const o=e.getBoundingClientRect(),a=.15*(n.clientX-o.left-o.width/2),i=.15*(n.clientY-o.top-o.height/2);e.style.transform=`translate(${a}px, ${i}px)`,t=null}))}),e.addEventListener("mouseleave",()=>{e.style.transform="translate(0, 0)"})})};document.addEventListener("DOMContentLoaded",addMagneticEffect);const positionStarsDynamically=()=>{const e=document.querySelectorAll(".star"),t=document.documentElement.scrollHeight;e.forEach((n,o)=>{const a=.05*t,i=a+(.95*t-a)/e.length*o;n.style.top=`${i}px`})},enhancedParallaxWithRotation=()=>{const e=document.querySelectorAll(".star");let t=null,n=Date.now();positionStarsDynamically();const o=[{parallaxSpeed:.08,rotationSpeed:95e3,horizontalShift:.04},{parallaxSpeed:.1,rotationSpeed:11e4,horizontalShift:-.05},{parallaxSpeed:.12,rotationSpeed:85e3,horizontalShift:.06},{parallaxSpeed:.15,rotationSpeed:12e4,horizontalShift:-.06},{parallaxSpeed:.11,rotationSpeed:9e4,horizontalShift:.05},{parallaxSpeed:.14,rotationSpeed:105e3,horizontalShift:-.05},{parallaxSpeed:.13,rotationSpeed:95e3,horizontalShift:.05},{parallaxSpeed:.16,rotationSpeed:115e3,horizontalShift:-.07},{parallaxSpeed:.12,rotationSpeed:1e5,horizontalShift:.06},{parallaxSpeed:.17,rotationSpeed:88e3,horizontalShift:-.06},{parallaxSpeed:.14,rotationSpeed:108e3,horizontalShift:.05},{parallaxSpeed:.18,rotationSpeed:98e3,horizontalShift:-.07},{parallaxSpeed:.13,rotationSpeed:93e3,horizontalShift:.06},{parallaxSpeed:.16,rotationSpeed:112e3,horizontalShift:-.06},{parallaxSpeed:.11,rotationSpeed:102e3,horizontalShift:.05},{parallaxSpeed:.15,rotationSpeed:96e3,horizontalShift:-.05},{parallaxSpeed:.14,rotationSpeed:107e3,horizontalShift:.06},{parallaxSpeed:.17,rotationSpeed:91e3,horizontalShift:-.06},{parallaxSpeed:.13,rotationSpeed:104e3,horizontalShift:.05},{parallaxSpeed:.16,rotationSpeed:94e3,horizontalShift:-.06},{parallaxSpeed:.12,rotationSpeed:109e3,horizontalShift:.05},{parallaxSpeed:.15,rotationSpeed:97e3,horizontalShift:-.05},{parallaxSpeed:.14,rotationSpeed:103e3,horizontalShift:.06},{parallaxSpeed:.17,rotationSpeed:89e3,horizontalShift:-.06},{parallaxSpeed:.13,rotationSpeed:106e3,horizontalShift:.05}],a=()=>{const a=window.pageYOffset,i=Date.now()-n;e.forEach((e,t)=>{const n=o[t]||o[0],r=-a*n.parallaxSpeed,l=a*n.horizontalShift;let d=0;n.rotationSpeed>0&&(d=i/n.rotationSpeed*360,n.horizontalShift<0&&(d=-d)),e.style.transform=`translate3d(${l}px, ${r}px, 0) rotate(${d}deg)`}),t=null},i=()=>{t||(t=requestAnimationFrame(a))};window.addEventListener("scroll",i,{passive:!0});const r=()=>{a(),requestAnimationFrame(r)};let l;window.matchMedia("(prefers-reduced-motion: reduce)").matches?window.addEventListener("scroll",i,{passive:!0}):r(),window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{positionStarsDynamically()},250)})};document.addEventListener("DOMContentLoaded",enhancedParallaxWithRotation);const createLightbox=()=>{const e=document.createElement("div");e.className="lightbox",e.innerHTML='\n        <div class="lightbox-content">\n            <button class="lightbox-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>\n            <img src="" alt="" class="lightbox-image">\n            <div class="lightbox-controls">\n                <button class="lightbox-prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ">‚Äπ</button>\n                <button class="lightbox-next" aria-label="–°–ª–µ–¥—É—é—â–µ–µ">‚Ä∫</button>\n            </div>\n        </div>\n    ',document.body.appendChild(e);const t=e.querySelector(".lightbox-image"),n=e.querySelector(".lightbox-close"),o=e.querySelector(".lightbox-prev"),a=e.querySelector(".lightbox-next");let i=[],r=0;const l=()=>{e.classList.remove("active"),document.body.style.overflow=""},d=e=>{e>=0&&e<i.length&&(r=e,t.src=i[e].src)};n.addEventListener("click",l),o.addEventListener("click",()=>{d(r-1)}),a.addEventListener("click",()=>{d(r+1)}),e.addEventListener("click",t=>{t.target===e&&l()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("active")&&l(),"ArrowLeft"===t.key&&e.classList.contains("active")&&d(r-1),"ArrowRight"===t.key&&e.classList.contains("active")&&d(r+1)});const s=document.querySelectorAll(".case-images img, .work-pair img");s.forEach((n,o)=>{n.style.cursor="pointer",n.addEventListener("click",()=>{const a=Array.from(s);((n,o,a)=>{i=o,r=a,t.src=n,e.classList.add("active"),document.body.style.overflow="hidden"})(n.src,a,o)})});const c=document.createElement("style");c.textContent="\n        .lightbox {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.95);\n            z-index: 9999;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            opacity: 0;\n            visibility: hidden;\n            transition: opacity 0.3s ease, visibility 0.3s ease;\n        }\n\n        .lightbox.active {\n            opacity: 1;\n            visibility: visible;\n        }\n\n        .lightbox-content {\n            position: relative;\n            max-width: 90vw;\n            max-height: 90vh;\n        }\n\n        .lightbox-image {\n            max-width: 100%;\n            max-height: 90vh;\n            object-fit: contain;\n            border-radius: 12px;\n        }\n\n        .lightbox-close {\n            position: absolute;\n            top: -50px;\n            right: 0;\n            background: none;\n            border: none;\n            color: white;\n            font-size: 48px;\n            cursor: pointer;\n            width: 48px;\n            height: 48px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            transition: transform 0.2s ease;\n        }\n\n        .lightbox-close:hover {\n            transform: scale(1.1);\n        }\n\n        .lightbox-controls {\n            position: absolute;\n            top: 50%;\n            left: 0;\n            right: 0;\n            transform: translateY(-50%);\n            display: flex;\n            justify-content: space-between;\n            padding: 0 20px;\n            pointer-events: none;\n        }\n\n        .lightbox-prev,\n        .lightbox-next {\n            background: rgba(255, 255, 255, 0.1);\n            border: 2px solid rgba(255, 255, 255, 0.3);\n            color: white;\n            font-size: 48px;\n            width: 60px;\n            height: 60px;\n            border-radius: 50%;\n            cursor: pointer;\n            pointer-events: all;\n            transition: all 0.3s ease;\n            backdrop-filter: blur(10px);\n        }\n\n        .lightbox-prev:hover,\n        .lightbox-next:hover {\n            background: rgba(255, 255, 255, 0.2);\n            border-color: white;\n            transform: scale(1.1);\n        }\n\n        @media (max-width: 768px) {\n            .lightbox-close {\n                top: -40px;\n                font-size: 36px;\n            }\n\n            .lightbox-prev,\n            .lightbox-next {\n                width: 48px;\n                height: 48px;\n                font-size: 36px;\n            }\n        }\n    ",document.head.appendChild(c)};document.addEventListener("DOMContentLoaded",createLightbox);const createReadingProgress=()=>{const e=document.createElement("div");e.className="reading-progress",document.body.appendChild(e);let t=null;const n=()=>{const n=window.innerHeight,o=document.documentElement.scrollHeight-n,a=window.pageYOffset/o*100;e.style.width=`${Math.min(a,100)}%`,t=null};window.addEventListener("scroll",()=>{t||(t=requestAnimationFrame(n))},{passive:!0});const o=document.createElement("style");o.textContent="\n        .reading-progress {\n            position: fixed;\n            top: 0;\n            left: 0;\n            height: 3px;\n            background: linear-gradient(90deg, rgba(100, 181, 246, 0.6) 0%, rgba(179, 136, 255, 0.8) 100%);\n            z-index: 10000;\n            transition: width 0.1s ease;\n            width: 0;\n        }\n    ",document.head.appendChild(o)};document.addEventListener("DOMContentLoaded",createReadingProgress);const debounce=(e,t)=>{let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...o)},t)}};let windowWidth=window.innerWidth;const handleResize=debounce(()=>{const e=window.innerWidth;Math.abs(e-windowWidth)>10&&(windowWidth=e)},250);window.addEventListener("resize",handleResize),console.log("%cSPLITCODE Portfolio","font-size: 24px; font-weight: bold; color: #fff; background: linear-gradient(135deg, rgba(100, 181, 246, 0.8) 0%, rgba(179, 136, 255, 0.8) 100%); padding: 10px 20px; border-radius: 8px;"),console.log("%c‚ú® –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π","font-size: 14px; color: #888;"),console.log("%cüì± Telegram: @dnkdmtry","font-size: 14px; color: #0088cc;");